{% extends 'base.html' %}

{% block title %}Modification mouvement{% endblock %}

{% block content %}

<h2>Modifier le mouvement #{{ mouvement.id }}</h2>
<form method="POST">
    <div class="mb-3">
        <label>Type de mouvement</label>
        <select name="type" class="form-control">
            <option value="entrée" {% if mouvement.type == 'entrée' %}selected{% endif %}>Entrée</option>
            <option value="sortie" {% if mouvement.type == 'sortie' %}selected{% endif %}>Sortie</option>
        </select>
    </div>
    <div class="mb-3">
        <label>Pièce</label>
        <select name="piece_id" class="form-control">
            {% for piece in pieces %}
            <option value="{{ piece.id }}" {% if piece.id == mouvement.piece_id %}selected{% endif %}>{{ piece.nom }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label>Quantité</label>
        <input type="number" name="quantite" class="form-control" value="{{ mouvement.quantite }}" required>
    </div>
    <div class="mb-3">
        <label>Centre</label>
        <select name="centre_id" class="form-control">
            {% for centre in centres %}
            <option value="{{ centre.id }}" {% if centre.id == mouvement.centre_id %}selected{% endif %}>{{ centre.nom }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label>Commentaire</label>
        <textarea name="commentaire" class="form-control">{{ mouvement.commentaire }}</textarea>
    </div>
    <button type="submit" class="btn btn-primary">Enregistrer</button>
    <a href="{{ url_for('gestion.lister_mouvements') }}" class="btn btn-secondary">Annuler</a>
</form>
{% endblock %}